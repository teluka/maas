269a270,271
> 
>     # previous logic to retrieve kpackage parameter
270a273,288
> 
>     # determine if this node has kernel parameters applied by drydock
>     # and override kpackage if we discover the right properties
>     kernel_opt_tag = "%s_kp" % (node.hostname)
>     if kernel_opt_tag in node.tag_names():
> 
>         # the tag exists, retrieve it
>         kernel_opts = node.tags.get(name=kernel_opt_tag).kernel_opts
> 
>         # parse the string and find our package param value
>         # e.g. kernel_package=linux-image-4.15.0-34-generic
>         kparams = kernel_opts.split()
>         kdict = dict(kparam.split('=') for kparam in kparams)
>         if 'kernel_package' in kdict:
>             kpackage = kdict['kernel_package']
> 
280d297
< 
